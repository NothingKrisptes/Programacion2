<odoo>
  <data>
    <!-- LIST/FORM -->
    <!-- 1. LIBRO -->
    <record model="ir.ui.view" id="biblioteca_libro_list">
      <field name="name">Libros</field>
      <field name="model">biblioteca.libro</field>
      <field name="arch" type="xml">
        <list>
          <field name="nombre_libro"/>
          <field name="autor"/>
          <field name="editorial"/>
          <field name="fecha_publicacion"/>
          <field name="paginas"/>
          <field name="ejemplares_disponibles"/>
          <field name="genero"/>
          <field name="isbn"/>
          <field name="descripcion"/>
          <field name="costo"/>
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="biblioteca_libro_form">
      <field name="name">Libros</field>
      <field name="model">biblioteca.libro</field>
      <field name="arch" type="xml">
        <form string="Libro">
          <header>
              <button name="action_buscar_openlibrary" 
                        type="object" 
                        string="Buscar Libro"
                        class="oe_highlight" />
          </header>
          <sheet>
                <group>
                  <field name="nombre_libro"/>
                  <field name="autor"/>
                  <field name="editorial"/>
                  <field name="fecha_publicacion"/>
                  <field name="paginas"/>
                  <field name="ejemplares_disponibles"/>
                  <field name="genero"/>
                  <field name="isbn"/>
                  <field name="descripcion"/>
                  <field name="costo"/>
                </group>   
          </sheet>
        </form>
      </field>
    </record>

    <!-- 2. AUTOR -->
    <record model="ir.ui.view" id="biblioteca_autor_list">
      <field name="name">Autores</field>
      <field name="model">biblioteca.autor</field>
      <field name="arch" type="xml">
        <list>
          <field name="seudonimo_autor"/>
          <field name="fecha_nacimiento"/>
          <field name="nacionalidad"/>
          <field name="biografia"/>
          <field name="libros"/>
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="biblioteca_autor_form">
      <field name="name">Autores</field>
      <field name="model">biblioteca.autor</field>
      <field name="arch" type="xml">
        <form>
          <group>
          <field name="seudonimo_autor"/>
          <field name="fecha_nacimiento"/>
          <field name="nacionalidad"/>
          <field name="biografia"/> 
          <field name="libros"/>
          </group>
        </form>
      </field>
    </record>

    <!-- 3. EDITORIAL -->
    <record model="ir.ui.view" id="biblioteca_editorial_list">
      <field name="name">Editoriales</field>
      <field name="model">biblioteca.editorial</field>
      <field name="arch" type="xml">
        <list>
          <field name="nombre_editorial"/>
          <field name="direccion"/>
          <field name="telefono"/>
          <field name="email"/>
          <field name="pais"/>
          <field name="libros_publicados"/>
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="biblioteca_editorial_form">
      <field name="name">Editoriales</field>
      <field name="model">biblioteca.editorial</field>
      <field name="arch" type="xml">
        <form>
          <group>
          <field name="nombre_editorial"/>
          <field name="direccion"/>
          <field name="telefono"/>
          <field name="email"/> 
          <field name="pais"/>
          <field name="libros_publicados"/>
          </group>
        </form>
      </field>
    </record>
    
    <!-- 4. PERSONAL -->
    <record model="ir.ui.view" id="biblioteca_personal_list">
      <field name="name">Personal</field>
      <field name="model">biblioteca.personal</field>
      <field name="arch" type="xml">
        <list>
          <field name="usuario_id"/>
          <field name="nombre_personal"/>
          <field name="apellido_personal"/>
          <field name="cedula_personal"/>
          <field name="personal_direccion"/>
          <field name="personal_telefono"/>
          <field name="personal_mail"/>
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="biblioteca_personal_form">
      <field name="name">Personal</field>
      <field name="model">biblioteca.personal</field>
      <field name="arch" type="xml">
        <form>
          <group>
            <field name="usuario_id"/>
            <field name="nombre_personal"/>
            <field name="apellido_personal"/>
            <field name="cedula_personal"/>
            <field name="personal_direccion"/>
            <field name="personal_telefono"/>
            <field name="personal_mail"/>
          </group>
        </form>
      </field>
    </record>

    <!-- 5. USUARIOS -->
    <record model="ir.ui.view" id="biblioteca_usuario_list">
      <field name="name">Usuarios</field>
      <field name="model">biblioteca.usuario</field>
      <field name="arch" type="xml">
        <list>
          <field name="id_usuario"/>
          <field name="nombre_usuario"/>
          <field name="apellido_usuario"/>
          <field name="cedula_usuario"/>
          <field name="usuario_direccion"/>
          <field name="usuario_telefono"/>
          <field name="usuario_mail"/>
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="biblioteca_usuario_form">
      <field name="name">Usuarios</field>
      <field name="model">biblioteca.usuario</field>
      <field name="arch" type="xml">
        <form>
          <group>
            <field name="id_usuario"/>
            <field name="nombre_usuario"/>
            <field name="apellido_usuario"/>
            <field name="cedula_usuario"/>
            <field name="usuario_direccion"/>
            <field name="usuario_telefono"/>
            <field name="usuario_mail"/>
          </group>
        </form>
      </field>
    </record>

    <!-- 6. PRESTAMO -->
    <record model="ir.ui.view" id="biblioteca_prestamo_list">
      <field name="name">biblioteca.prestamo.list</field>
      <field name="model">biblioteca.prestamo</field>
      <field name="arch" type="xml">
        <list string="Préstamos">
          <field name="name"/>
          <field name="fecha_prestamo"/>
          <field name="libro"/>
          <field name="usuario"/>
          <field name="total_multas" widget="monetary"/>
          <field name="estado"/>
        </list>
      </field>
    </record>
            
    <record model="ir.ui.view" id="biblioteca_prestamo_form">
      <field name="name">biblioteca.prestamo.form</field>
      <field name="model">biblioteca.prestamo</field>
      <field name="arch" type="xml">
        <form string="Préstamo">
          <header>
            <button string="Prestar" 
                    type="object" 
                    name="generar_prestamo" 
                    class="btn-primary"
                    invisible="estado in ('p','m','d')"/>
            <button string="Devolver Libro" 
                    type="object" 
                    name="action_devolver" 
                    class="btn-success"
                    invisible="estado in ('b','d')"/>
            <field name="estado" widget="statusbar" statusbar_visible="b,p,m,d"/>
          </header>
          <sheet>
            <div class="oe_button_box" name="button_box">
              <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-dollar" invisible="not tiene_multas">
                <field name="total_multas" widget="statinfo" string="Total Multas"/>
              </button>
            </div>
            
            <group>
              <group string="Información del Préstamo">
                <field name="name" readonly="1"/>
                <field name="fecha_prestamo" readonly="estado in ('p','m','d')"/>
                <field name="libro" readonly="estado in ('p','m','d')"/>
                <field name="usuario" readonly="estado in ('p','m','d')"/>
              </group>
              
              <group string="Fechas">
                <field name="fecha_maxima" readonly="1"/>
                <field name="fecha_devolucion" readonly="1" invisible="not fecha_devolucion"/>
              </group>
            </group>

            <group string="Estado de Devolución" invisible="estado not in ('p','m')">
              <group>
                <field name="devolucion_tardia"/>
                <field name="evaluacion_libro"/>
              </group>
              <group>
                <field name="tiene_multas" invisible="1"/>
              </group>
            </group>

            <notebook>
              <page string="Multas Aplicadas" invisible="not tiene_multas">
                <field name="multa_ids" readonly="1">
                  <list>
                    <field name="nombre_multa"/>
                    <field name="tipo_multa"/>
                    <field name="monto" widget="monetary" sum="Total"/>
                    <field name="fecha_multa"/>
                    <field name="pagado"/>
                  </list>
                </field>
                <group class="oe_subtotal_footer oe_right">
                  <field name="total_multas" widget="monetary" class="oe_subtotal_footer_separator"/>
                </group>
              </page>
            </notebook>
          </sheet>
        </form>
      </field>
    </record>

    <!-- 7. MULTA -->
    <record model="ir.ui.view" id="biblioteca_multa_list">
      <field name="name">biblioteca.multa.list</field>
      <field name="model">biblioteca.multa</field>
      <field name="arch" type="xml">
        <list string="Multas">
          <field name="nombre_multa"/>
          <field name="tipo_multa"/>
          <field name="usuario"/>
          <field name="monto"/>
          <field name="fecha_multa"/>
          <field name="prestamo"/>
          <field name="pagado"/>
        </list>
      </field>
    </record>

    <record model="ir.ui.view" id="biblioteca_multa_form">
      <field name="name">biblioteca.multa.form</field>
      <field name="model">biblioteca.multa</field>
      <field name="arch" type="xml">
        <form string="Multa">
          <sheet>
            <div class="oe_button_box" name="button_box">
              <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-check-circle" invisible="pagado">
                <div class="o_field_widget o_stat_info">
                  <span class="o_stat_text">Pendiente</span>
                </div>
              </button>
              <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-check-circle" style="color: green;" invisible="not pagado">
                <div class="o_field_widget o_stat_info">
                  <span class="o_stat_text">Pagada</span>
                </div>
              </button>
            </div>
            
            <group>
              <group>
                <field name="nombre_multa" readonly="1"/>
                <field name="tipo_multa" readonly="1"/>
                <field name="usuario" readonly="1"/>
                <field name="prestamo" readonly="1"/>
              </group>
              <group>
                <field name="monto" readonly="1"/>
                <field name="fecha_multa" readonly="1"/>
                <field name="pagado"/>
              </group>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- ACCIONES DE VENTANA -->
    <!-- 1. LIBRO -->
    <record model="ir.actions.act_window" id="biblioteca_libro_action_window">
      <field name="name">Libros</field>
      <field name="res_model">biblioteca.libro</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- 2. AUTOR -->
    <record model="ir.actions.act_window" id="biblioteca_autor_action_window">
      <field name="name">Autores</field>
      <field name="res_model">biblioteca.autor</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- 3. EDITORIAL -->
    <record model="ir.actions.act_window" id="biblioteca_editorial_action_window">
      <field name="name">Editoriales</field>  
      <field name="res_model">biblioteca.editorial</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- 4. PERSONAL -->
    <record model="ir.actions.act_window" id="biblioteca_personal_action_window">
      <field name="name">Personal</field> 
      <field name="res_model">biblioteca.personal</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- 5. USUARIOS -->
    <record model="ir.actions.act_window" id="biblioteca_usuario_action_window">
      <field name="name">Usuarios</field> 
      <field name="res_model">biblioteca.usuario</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- 6. PRESTAMO -->
    <record model="ir.actions.act_window" id="biblioteca_prestamo_action_window">
      <field name="name">Préstamos</field> 
      <field name="res_model">biblioteca.prestamo</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- 7. MULTA -->
    <record model="ir.actions.act_window" id="biblioteca_multa_action_window">
      <field name="name">Multas</field> 
      <field name="res_model">biblioteca.multa</field>
      <field name="view_mode">list,form</field>
    </record>

    <!-- MENUS -->
    <!-- MENU PRINCIPAL -->
    <menuitem name="biblioteca" id="biblioteca_menu_root"/>
    <!-- 1-LIBRO -->
    <menuitem name="Libros" 
    id="biblioteca.libro" 
    parent="biblioteca.biblioteca_menu_root"
    action="biblioteca_libro_action_window"/>
  
    <!-- 2-AUTOR -->
    <menuitem name="Autores" 
    id="biblioteca.autor" 
    parent="biblioteca.biblioteca_menu_root"
    action="biblioteca_autor_action_window"/>

    <!-- 3-EDITORIAL -->
    <menuitem name="Editoriales"
    id="biblioteca.editorial" 
    parent="biblioteca.biblioteca_menu_root"
    action="biblioteca_editorial_action_window"/>
 
    <!-- 4-PERSONAL -->
    <menuitem name="Personal"
    id="biblioteca.personal" 
    parent="biblioteca.biblioteca_menu_root"
    action="biblioteca_personal_action_window"/>  

    <!-- 5-USUARIOS -->
    <menuitem name="Usuarios" 
    id="biblioteca.usuario" 
    parent="biblioteca.biblioteca_menu_root"
    action="biblioteca_usuario_action_window"/>  

    <!-- 6-PRESTAMO -->
    <menuitem name="Préstamos" 
    id="biblioteca.prestamo" 
    parent="biblioteca.biblioteca_menu_root"      
    action="biblioteca_prestamo_action_window"/>    

    <!-- 7-MULTA -->
    <menuitem name="Multas" 
    id="biblioteca.multa" 
    parent="biblioteca.biblioteca_menu_root"      
    action="biblioteca_multa_action_window"/>    

  </data>
</odoo>
